Okay, I will provide a detailed report on the mappings from the old structure (derived from `lib/repomix-output.xml` and `test/repomix-output.xml`) to the new target layout you've provided.

The report will primarily focus on the `lib` directory files as requested, and then provide mappings for the `test` directory files, keeping in mind the new categorized test structure.

## Lib File Mappings:

Here's a breakdown of how the files from the `lib` directory in the old structure map to the new layout:

| Old Path (from `lib/repomix-output.xml`)                                                     | New Path (Target Layout)                                                                         | Notes                                                                                                                                                                 |
| :------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `elixir_scope/ai/analysis/intelligent_code_analyzer.ex`                                      | `elixir_scope/intelligence/ai/analysis/intelligent_code_analyzer.ex`                             | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/llm/providers/gemini.ex`                                                    | `elixir_scope/intelligence/ai/llm/providers/gemini.ex`                                           | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/llm/providers/mock.ex`                                                      | `elixir_scope/intelligence/ai/llm/providers/mock.ex`                                             | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/llm/providers/vertex.ex`                                                    | `elixir_scope/intelligence/ai/llm/providers/vertex.ex`                                           | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/llm/client.ex`                                                              | `elixir_scope/intelligence/ai/llm/client.ex`                                                     | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/llm/config.ex`                                                              | `elixir_scope/intelligence/ai/llm/config.ex`                                                     | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/llm/provider.ex`                                                            | `elixir_scope/intelligence/ai/llm/provider.ex`                                                   | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/llm/response.ex`                                                            | `elixir_scope/intelligence/ai/llm/response.ex`                                                   | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/predictive/execution_predictor.ex`                                          | `elixir_scope/intelligence/ai/predictive/execution_predictor.ex`                                 | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/code_analyzer.ex`                                                           | `elixir_scope/intelligence/ai/code_analyzer.ex`                                                  | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/complexity_analyzer.ex`                                                     | `elixir_scope/intelligence/ai/complexity_analyzer.ex`                                            | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/orchestrator.ex`                                                            | `elixir_scope/intelligence/ai/orchestrator.ex`                                                   | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ai/pattern_recognizer.ex`                                                      | `elixir_scope/intelligence/ai/pattern_recognizer.ex`                                             | Moved to `intelligence` layer.                                                                                                                                     |
| `elixir_scope/ast/enhanced_transformer.ex`                                                   | `elixir_scope/ast/compiler/enhanced_transformer.ex`                                              | Moved under `ast/compiler`.                                                                                                                                           |
| `elixir_scope/ast/injector_helpers.ex`                                                       | `elixir_scope/ast/compiler/injector_helpers.ex`                                                  | Moved under `ast/compiler`.                                                                                                                                           |
| `elixir_scope/ast/transformer.ex`                                                            | `elixir_scope/ast/compiler/transformer.ex`                                                       | Moved under `ast/compiler`.                                                                                                                                           |
| `elixir_scope/ast_repository/enhanced/cfg_generator/expression_processors/assignment_processors.ex` | `elixir_scope/cpg/builder/cfg/cfg_generator/expression_processors/assignment_processors.ex`    | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/expression_processors/basic_processors.ex` | `elixir_scope/cpg/builder/cfg/cfg_generator/expression_processors/basic_processors.ex`         | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/expression_processors/control_flow_processors.ex` | `elixir_scope/cpg/builder/cfg/cfg_generator/expression_processors/control_flow_processors.ex`  | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/expression_processors/data_structure_processors.ex` | `elixir_scope/cpg/builder/cfg/cfg_generator/expression_processors/data_structure_processors.ex` | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/expression_processors/function_processors.ex` | `elixir_scope/cpg/builder/cfg/cfg_generator/expression_processors/function_processors.ex`      | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/ast_processor_behavior.ex`               | `elixir_scope/cpg/builder/cfg/cfg_generator/ast_processor_behavior.ex`                           | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/ast_processor.ex`                        | `elixir_scope/cpg/builder/cfg/cfg_generator/ast_processor.ex`                                    | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/ast_utilities_behavior.ex`               | `elixir_scope/cpg/builder/cfg/cfg_generator/ast_utilities_behavior.ex`                         | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/ast_utilities.ex`                        | `elixir_scope/cpg/builder/cfg/cfg_generator/ast_utilities.ex`                                  | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/complexity_calculator.ex`                | `elixir_scope/cpg/builder/cfg/cfg_generator/complexity_calculator.ex`                          | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/control_flow_processors.ex`              | `elixir_scope/cpg/builder/cfg/cfg_generator/control_flow_processors.ex`                        | Refactored into CPG builder structure. (Assuming this is the primary one, not the one under `expression_processors` as per old input)                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/expression_processors.ex`                | `elixir_scope/cpg/builder/cfg/cfg_generator/expression_processors.ex`                          | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/integration_test.ex`                     | `elixir_scope/cpg/builder/cfg/cfg_generator/integration_test.ex`                                 | Test file moved from `lib` to `lib` (unusual, but following target). Should ideally be in `test/`.                                                               |
| `elixir_scope/ast_repository/enhanced/cfg_generator/path_analyzer.ex`                        | `elixir_scope/cpg/builder/cfg/cfg_generator/path_analyzer.ex`                                  | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/state_manager_behaviour.ex`              | `elixir_scope/cpg/builder/cfg/cfg_generator/state_manager_behaviour.ex`                        | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/state_manager.ex`                        | `elixir_scope/cpg/builder/cfg/cfg_generator/state_manager.ex`                                  | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/state.ex`                                | `elixir_scope/cpg/builder/cfg/cfg_generator/state.ex`                                          | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/validators.ex`                           | `elixir_scope/cpg/builder/cfg/cfg_generator/validators.ex`                                     | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/complexity_analyzer.ex`                   | `elixir_scope/cpg/builder/core/complexity_analyzer.ex`                                         | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/core.ex`                                   | `elixir_scope/cpg/builder/core/core.ex`                                                          | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/graph_merger.ex`                           | `elixir_scope/cpg/builder/core/graph_merger.ex`                                                  | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/helpers.ex`                                | `elixir_scope/cpg/builder/core/helpers.ex`                                                       | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/pattern_detector.ex`                       | `elixir_scope/cpg/builder/core/pattern_detector.ex`                                              | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/performance_analyzer.ex`                   | `elixir_scope/cpg/builder/core/performance_analyzer.ex`                                          | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/quality_analyzer.ex`                       | `elixir_scope/cpg/builder/core/quality_analyzer.ex`                                              | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/query_processor.ex`                        | `elixir_scope/cpg/builder/core/query_processor.ex`                                               | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/security_analyzer.ex`                      | `elixir_scope/cpg/builder/core/security_analyzer.ex`                                             | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_builder/validator.ex`                              | `elixir_scope/cpg/builder/core/validator.ex`                                                     | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/dfg_generator/ast_analyzer.ex`                         | `elixir_scope/cpg/builder/dfg/dfg_generator/ast_analyzer.ex`                                     | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/dfg_generator/dependency_analyzer.ex`                   | `elixir_scope/cpg/builder/dfg/dfg_generator/dependency_analyzer.ex`                              | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/dfg_generator/edge_creator.ex`                         | `elixir_scope/cpg/builder/dfg/dfg_generator/edge_creator.ex`                                     | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/dfg_generator/node_creator.ex`                         | `elixir_scope/cpg/builder/dfg/dfg_generator/node_creator.ex`                                     | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/dfg_generator/optimization_analyzer.ex`                | `elixir_scope/cpg/builder/dfg/dfg_generator/optimization_analyzer.ex`                            | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/dfg_generator/pattern_analyzer.ex`                     | `elixir_scope/cpg/builder/dfg/dfg_generator/pattern_analyzer.ex`                                 | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/dfg_generator/state_manager.ex`                        | `elixir_scope/cpg/builder/dfg/dfg_generator/state_manager.ex`                                    | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/dfg_generator/structure_builder.ex`                    | `elixir_scope/cpg/builder/dfg/dfg_generator/structure_builder.ex`                                | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/dfg_generator/variable_tracker.ex`                     | `elixir_scope/cpg/builder/dfg/dfg_generator/variable_tracker.ex`                                 | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/ast_extractor.ex`                    | `elixir_scope/cpg/builder/project_analysis/ast_extractor.ex`                                     | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/complexity_analyzer.ex`              | `elixir_scope/cpg/builder/project_analysis/complexity_analyzer.ex`                               | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/dependency_analyzer.ex`              | `elixir_scope/cpg/builder/project_analysis/dependency_analyzer.ex`                               | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/file_discovery.ex`                   | `elixir_scope/cpg/builder/project_analysis/file_discovery.ex`                                    | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/file_parser.ex`                      | `elixir_scope/cpg/builder/project_analysis/file_parser.ex`                                       | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/module_analyzer.ex`                  | `elixir_scope/cpg/builder/project_analysis/module_analyzer.ex`                                   | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/optimization_hints.ex`               | `elixir_scope/cpg/builder/project_analysis/optimization_hints.ex`                                | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/performance_metrics.ex`              | `elixir_scope/cpg/builder/project_analysis/performance_metrics.ex`                               | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/quality_analyzer.ex`                 | `elixir_scope/cpg/builder/project_analysis/quality_analyzer.ex`                                  | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/project_populator/security_analyzer.ex`                | `elixir_scope/cpg/builder/project_analysis/security_analyzer.ex`                                 | Refactored into CPG builder structure.                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_data.ex`                                           | `elixir_scope/cpg/data/cfg_data.ex`                                                              | Moved to CPG data layer.                                                                                                                                              |
| `elixir_scope/ast_repository/enhanced/cfg_generator.ex`                                      | `elixir_scope/cpg/builder/cfg.ex`                                                                | Moved to CPG builder layer.                                                                                                                                           |
| `elixir_scope/ast_repository/enhanced/complexity_metrics.ex`                                 | `elixir_scope/cpg/analysis/complexity_metrics.ex`                                                | Moved to CPG analysis layer.                                                                                                                                          |
| `elixir_scope/ast_repository/enhanced/cpg_builder.ex`                                        | `elixir_scope/cpg/builder.ex`                                                                    | Top-level CPG builder.                                                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cpg_data.ex`                                           | `elixir_scope/cpg/data/cpg_data.ex`                                                              | Moved to CPG data layer.                                                                                                                                              |
| `elixir_scope/ast_repository/enhanced/dfg_data.ex`                                           | `elixir_scope/cpg/data/dfg_data.ex`                                                              | Moved to CPG data layer.                                                                                                                                              |
| `elixir_scope/ast_repository/enhanced/dfg_generator_minimal.ex`                              | `elixir_scope/cpg/builder/dfg/minimal.ex`                                                        | Moved to CPG builder layer.                                                                                                                                           |
| `elixir_scope/ast_repository/enhanced/dfg_generator.ex`                                      | `elixir_scope/cpg/builder/dfg.ex`                                                                | Moved to CPG builder layer.                                                                                                                                           |
| `elixir_scope/ast_repository/enhanced/enhanced_function_data.ex`                             | `elixir_scope/ast/enhanced/enhanced_function_data.ex`                                            | Consolidated under `ast/enhanced/`.                                                                                                                                   |
| `elixir_scope/ast_repository/enhanced/enhanced_module_data.ex`                               | `elixir_scope/ast/enhanced/enhanced_module_data.ex`                                              | Consolidated under `ast/enhanced/`.                                                                                                                                   |
| `elixir_scope/ast_repository/enhanced/file_watcher.ex`                                       | `elixir_scope/cpg/file_watcher.ex`                                                               | Moved to CPG layer.                                                                                                                                                   |
| `elixir_scope/ast_repository/enhanced/project_populator.ex`                                  | `elixir_scope/cpg/builder/project_populator.ex`                                                  | Top-level project populator for CPG.                                                                                                                                  |
| `elixir_scope/ast_repository/enhanced/repository.ex`                                         | `elixir_scope/ast/enhanced/repository.ex`                                                        | Enhanced repository specific to AST.                                                                                                                                  |
| `elixir_scope/ast_repository/enhanced/shared_data_structures.ex`                             | `elixir_scope/cpg/data/shared_structures.ex`                                                     | Moved to CPG data layer.                                                                                                                                              |
| `elixir_scope/ast_repository/enhanced/supporting_structures.ex`                              | `elixir_scope/cpg/data/supporting_structures.ex`                                                 | Moved to CPG data layer.                                                                                                                                              |
| `elixir_scope/ast_repository/enhanced/synchronizer.ex`                                       | `elixir_scope/cpg/synchronizer.ex`                                                               | Moved to CPG layer.                                                                                                                                                   |
| `elixir_scope/ast_repository/enhanced/variable_data.ex`                                      | `elixir_scope/cpg/data/variable_data.ex`                                                         | Moved to CPG data layer.                                                                                                                                              |
| `elixir_scope/ast_repository/memory_manager/cache_manager.ex`                                | `elixir_scope/ast/memory_manager/memory_manager/cache_manager.ex`                                | Refactored into AST memory manager.                                                                                                                                   |
| `elixir_scope/ast_repository/memory_manager/cleaner.ex`                                      | `elixir_scope/ast/memory_manager/memory_manager/cleaner.ex`                                      | Refactored into AST memory manager.                                                                                                                                   |
| `elixir_scope/ast_repository/memory_manager/compressor.ex`                                   | `elixir_scope/ast/memory_manager/memory_manager/compressor.ex`                                   | Refactored into AST memory manager.                                                                                                                                   |
| `elixir_scope/ast_repository/memory_manager/config.ex`                                       | `elixir_scope/ast/memory_manager/memory_manager/config.ex`                                       | Refactored into AST memory manager.                                                                                                                                   |
| `elixir_scope/ast_repository/memory_manager/monitor.ex`                                      | `elixir_scope/ast/memory_manager/memory_manager/monitor.ex`                                      | Refactored into AST memory manager.                                                                                                                                   |
| `elixir_scope/ast_repository/memory_manager/pressure_handler.ex`                             | `elixir_scope/ast/memory_manager/memory_manager/pressure_handler.ex`                             | Refactored into AST memory manager.                                                                                                                                   |
| `elixir_scope/ast_repository/memory_manager/supervisor.ex`                                   | `elixir_scope/ast/memory_manager/memory_manager/supervisor.ex`                                   | Refactored into AST memory manager.                                                                                                                                   |
| `elixir_scope/ast_repository/memory_manager/test_runner.ex`                                  | `elixir_scope/ast/memory_manager/memory_manager/test_runner.ex`                                  | Test runner (unusual for `lib`, might be for self-testing).                                                                                                         |
| `elixir_scope/ast_repository/module_data/ast_analyzer.ex`                                    | `elixir_scope/ast/data/module_analysis/ast_analyzer.ex`                                          | Moved to `ast/data/module_analysis`.                                                                                                                                |
| `elixir_scope/ast_repository/module_data/attribute_extractor.ex`                             | `elixir_scope/ast/data/module_analysis/attribute_extractor.ex`                                   | Moved to `ast/data/module_analysis`.                                                                                                                                |
| `elixir_scope/ast_repository/module_data/complexity_calculator.ex`                           | `elixir_scope/ast/data/module_analysis/complexity_calculator.ex`                                 | Moved to `ast/data/module_analysis`.                                                                                                                                |
| `elixir_scope/ast_repository/module_data/dependency_extractor.ex`                            | `elixir_scope/ast/data/module_analysis/dependency_extractor.ex`                                  | Moved to `ast/data/module_analysis`.                                                                                                                                |
| `elixir_scope/ast_repository/module_data/pattern_detector.ex`                                | `elixir_scope/ast/data/module_analysis/pattern_detector.ex`                                      | Moved to `ast/data/module_analysis`.                                                                                                                                |
| `elixir_scope/ast_repository/pattern_matcher/analyzers.ex`                                   | `elixir_scope/ast/pattern_matcher/analyzers.ex`                                                  | Refactored into `ast/pattern_matcher`.                                                                                                                                |
| `elixir_scope/ast_repository/pattern_matcher/cache.ex`                                       | `elixir_scope/ast/pattern_matcher/cache.ex`                                                      | Refactored into `ast/pattern_matcher`.                                                                                                                                |
| `elixir_scope/ast_repository/pattern_matcher/config.ex`                                      | `elixir_scope/ast/pattern_matcher/config.ex`                                                     | Refactored into `ast/pattern_matcher`.                                                                                                                                |
| `elixir_scope/ast_repository/pattern_matcher/core.ex`                                        | `elixir_scope/ast/pattern_matcher/core.ex`                                                       | Refactored into `ast/pattern_matcher`.                                                                                                                                |
| `elixir_scope/ast_repository/pattern_matcher/pattern_library.ex`                             | `elixir_scope/ast/pattern_matcher/pattern_library.ex`                                            | Refactored into `ast/pattern_matcher`.                                                                                                                                |
| `elixir_scope/ast_repository/pattern_matcher/pattern_rules.ex`                               | `elixir_scope/ast/pattern_matcher/pattern_rules.ex`                                              | Refactored into `ast/pattern_matcher`.                                                                                                                                |
| `elixir_scope/ast_repository/pattern_matcher/stats.ex`                                       | `elixir_scope/ast/pattern_matcher/stats.ex`                                                      | Refactored into `ast/pattern_matcher`.                                                                                                                                |
| `elixir_scope/ast_repository/pattern_matcher/types.ex`                                       | `elixir_scope/ast/pattern_matcher/types.ex`                                                      | Refactored into `ast/pattern_matcher`.                                                                                                                                |
| `elixir_scope/ast_repository/pattern_matcher/validators.ex`                                  | `elixir_scope/ast/pattern_matcher/validators.ex`                                                 | Refactored into `ast/pattern_matcher`.                                                                                                                                |
| `elixir_scope/ast_repository/performance_optimizer/batch_processor.ex`                       | `elixir_scope/ast/performance_optimizer/performance_optimizer/batch_processor.ex`                | Refactored into `ast/performance_optimizer`.                                                                                                                        |
| `elixir_scope/ast_repository/performance_optimizer/cache_manager.ex`                       | `elixir_scope/ast/performance_optimizer/performance_optimizer/cache_manager.ex`                | Refactored into `ast/performance_optimizer`.                                                                                                                        |
| `elixir_scope/ast_repository/performance_optimizer/lazy_loader.ex`                           | `elixir_scope/ast/performance_optimizer/performance_optimizer/lazy_loader.ex`                    | Refactored into `ast/performance_optimizer`.                                                                                                                        |
| `elixir_scope/ast_repository/performance_optimizer/optimization_scheduler.ex`                | `elixir_scope/ast/performance_optimizer/performance_optimizer/optimization_scheduler.ex`         | Refactored into `ast/performance_optimizer`.                                                                                                                        |
| `elixir_scope/ast_repository/performance_optimizer/statistics_collector.ex`                  | `elixir_scope/ast/performance_optimizer/performance_optimizer/statistics_collector.ex`           | Refactored into `ast/performance_optimizer`.                                                                                                                        |
| `elixir_scope/ast_repository/query_builder/cache.ex`                                         | `elixir_scope/ast/query_builder/query_builder/cache.ex`                                          | Refactored into `ast/query_builder`.                                                                                                                                  |
| `elixir_scope/ast_repository/query_builder/executor.ex`                                      | `elixir_scope/ast/query_builder/query_builder/executor.ex`                                       | Refactored into `ast/query_builder`.                                                                                                                                  |
| `elixir_scope/ast_repository/query_builder/normalizer.ex`                                    | `elixir_scope/ast/query_builder/query_builder/normalizer.ex`                                     | Refactored into `ast/query_builder`.                                                                                                                                  |
| `elixir_scope/ast_repository/query_builder/optimizer.ex`                                     | `elixir_scope/ast/query_builder/query_builder/optimizer.ex`                                      | Refactored into `ast/query_builder`.                                                                                                                                  |
| `elixir_scope/ast_repository/query_builder/supervisor.ex`                                    | `elixir_scope/ast/query_builder/query_builder/supervisor.ex`                                     | Refactored into `ast/query_builder`.                                                                                                                                  |
| `elixir_scope/ast_repository/query_builder/types.ex`                                         | `elixir_scope/ast/query_builder/query_builder/types.ex`                                          | Refactored into `ast/query_builder`.                                                                                                                                  |
| `elixir_scope/ast_repository/query_builder/validator.ex`                                     | `elixir_scope/ast/query_builder/query_builder/validator.ex`                                      | Refactored into `ast/query_builder`.                                                                                                                                  |
| `elixir_scope/ast_repository/runtime_correlator/breakpoint_manager.ex`                       | `elixir_scope/capture/correlation/runtime/breakpoint_manager.ex`                                 | Moved to `capture/correlation/runtime`.                                                                                                                               |
| `elixir_scope/ast_repository/runtime_correlator/cache_manager.ex`                            | `elixir_scope/capture/correlation/runtime/cache_manager.ex`                                    | Moved to `capture/correlation/runtime`.                                                                                                                               |
| `elixir_scope/ast_repository/runtime_correlator/config.ex`                                   | `elixir_scope/capture/correlation/runtime/config.ex`                                           | Moved to `capture/correlation/runtime`.                                                                                                                               |
| `elixir_scope/ast_repository/runtime_correlator/context_builder.ex`                          | `elixir_scope/capture/correlation/runtime/context_builder.ex`                                  | Moved to `capture/correlation/runtime`.                                                                                                                               |
| `elixir_scope/ast_repository/runtime_correlator/event_correlator.ex`                         | `elixir_scope/capture/correlation/runtime/event_correlator.ex`                                 | Moved to `capture/correlation/runtime`.                                                                                                                               |
| `elixir_scope/ast_repository/runtime_correlator/trace_builder.ex`                            | `elixir_scope/capture/correlation/runtime/trace_builder.ex`                                    | Moved to `capture/correlation/runtime`.                                                                                                                               |
| `elixir_scope/ast_repository/runtime_correlator/types.ex`                                    | `elixir_scope/capture/correlation/runtime/types.ex`                                            | Moved to `capture/correlation/runtime`.                                                                                                                               |
| `elixir_scope/ast_repository/runtime_correlator/utils.ex`                                    | `elixir_scope/capture/correlation/runtime/utils.ex`                                            | Moved to `capture/correlation/runtime`.                                                                                                                               |
| `elixir_scope/ast_repository/enhanced_function_data.ex`                                      | `elixir_scope/ast/data/enhanced_function_data.ex`                                                | Moved to `ast/data/`.                                                                                                                                                 |
| `elixir_scope/ast_repository/enhanced_module_data.ex`                                        | `elixir_scope/ast/data/enhanced_module_data.ex`                                                  | Moved to `ast/data/`.                                                                                                                                                 |
| `elixir_scope/ast_repository/enhanced_repository.ex`                                         | `elixir_scope/ast/repository/enhanced.ex`                                                        | `repository/enhanced.ex` as the enhanced version.                                                                                                                     |
| `elixir_scope/ast_repository/function_data.ex`                                               | `elixir_scope/ast/data/function_data.ex`                                                         | Moved to `ast/data/`.                                                                                                                                                 |
| `elixir_scope/ast_repository/instrumentation_mapper.ex`                                      | `elixir_scope/ast/data/instrumentation_mapper.ex`                                                | Moved to `ast/data/`.                                                                                                                                                 |
| `elixir_scope/ast_repository/memory_manager.ex`                                              | `elixir_scope/ast/legacy/memory_manager.ex`                                                      | Marked as legacy.                                                                                                                                                     |
| `elixir_scope/ast_repository/module_data.ex`                                                 | `elixir_scope/ast/data/module_data.ex`                                                           | Moved to `ast/data/`.                                                                                                                                                 |
| `elixir_scope/ast_repository/parser.ex`                                                      | `elixir_scope/ast/parser.ex`                                                                     | Top-level parser in `ast/`.                                                                                                                                           |
| `elixir_scope/ast_repository/pattern_matcher.ex`                                             | `elixir_scope/ast/legacy/pattern_matcher.ex`                                                     | Marked as legacy.                                                                                                                                                     |
| `elixir_scope/ast_repository/performance_optimizer.ex`                                       | `elixir_scope/ast/legacy/performance_optimizer.ex`                                               | Marked as legacy.                                                                                                                                                     |
| `elixir_scope/ast_repository/query_builder.ex`                                               | `elixir_scope/ast/legacy/query_builder.ex`                                                       | Marked as legacy.                                                                                                                                                     |
| `elixir_scope/ast_repository/repository.ex`                                                  | `elixir_scope/ast/repository.ex`                                                                 | Top-level repository interface/core.                                                                                                                                  |
| `elixir_scope/ast_repository/runtime_correlator.ex`                                          | `elixir_scope/capture/correlation.ex`                                                            | Top-level runtime correlator for capture.                                                                                                                             |
| `elixir_scope/capture/enhanced_instrumentation/ast_correlator.ex`                            | `elixir_scope/debugger/enhanced/instrumentation/ast_correlator.ex`                               | Moved to `debugger/enhanced/instrumentation/`.                                                                                                                      |
| `elixir_scope/capture/enhanced_instrumentation/breakpoint_manager.ex`                        | `elixir_scope/debugger/enhanced/instrumentation/breakpoint_manager.ex`                           | Moved to `debugger/enhanced/instrumentation/`.                                                                                                                      |
| `elixir_scope/capture/enhanced_instrumentation/debugger_interface.ex`                        | `elixir_scope/debugger/enhanced/instrumentation/debugger_interface.ex`                           | Moved to `debugger/enhanced/instrumentation/`.                                                                                                                      |
| `elixir_scope/capture/enhanced_instrumentation/event_handler.ex`                             | `elixir_scope/debugger/enhanced/instrumentation/event_handler.ex`                                | Moved to `debugger/enhanced/instrumentation/`.                                                                                                                      |
| `elixir_scope/capture/enhanced_instrumentation/storage.ex`                                   | `elixir_scope/debugger/enhanced/instrumentation/storage.ex`                                      | Moved to `debugger/enhanced/instrumentation/`.                                                                                                                      |
| `elixir_scope/capture/enhanced_instrumentation/utils.ex`                                     | `elixir_scope/debugger/enhanced/instrumentation/utils.ex`                                        | Moved to `debugger/enhanced/instrumentation/`.                                                                                                                      |
| `elixir_scope/capture/enhanced_instrumentation/watchpoint_manager.ex`                        | `elixir_scope/debugger/enhanced/instrumentation/watchpoint_manager.ex`                           | Moved to `debugger/enhanced/instrumentation/`.                                                                                                                      |
| `elixir_scope/capture/ingestor/channel.ex`                                                   | `elixir_scope/capture/runtime/ingestor/channel.ex`                                               | Moved into `capture/runtime/ingestor/`.                                                                                                                               |
| `elixir_scope/capture/ingestor/distributed.ex`                                               | `elixir_scope/capture/runtime/ingestor/distributed.ex`                                           | Moved into `capture/runtime/ingestor/`.                                                                                                                               |
| `elixir_scope/capture/ingestor/ecto.ex`                                                      | `elixir_scope/capture/runtime/ingestor/ecto.ex`                                                  | Moved into `capture/runtime/ingestor/`.                                                                                                                               |
| `elixir_scope/capture/ingestor/gen_server.ex`                                                | `elixir_scope/capture/runtime/ingestor/gen_server.ex`                                            | Moved into `capture/runtime/ingestor/`.                                                                                                                               |
| `elixir_scope/capture/ingestor/live_view.ex`                                                 | `elixir_scope/capture/runtime/ingestor/live_view.ex`                                             | Moved into `capture/runtime/ingestor/`.                                                                                                                               |
| `elixir_scope/capture/ingestor/phoenix.ex`                                                   | `elixir_scope/capture/runtime/ingestor/phoenix.ex`                                               | Moved into `capture/runtime/ingestor/`.                                                                                                                               |
| `elixir_scope/capture/instrumentation_runtime/ast_reporting.ex`                              | `elixir_scope/capture/runtime/instrumentation_runtime/ast_reporting.ex`                          | Moved into `capture/runtime/instrumentation_runtime/`.                                                                                                                |
| `elixir_scope/capture/instrumentation_runtime/context.ex`                                    | `elixir_scope/capture/runtime/instrumentation_runtime/context.ex`                                | Moved into `capture/runtime/instrumentation_runtime/`.                                                                                                                |
| `elixir_scope/capture/instrumentation_runtime/core_reporting.ex`                             | `elixir_scope/capture/runtime/instrumentation_runtime/core_reporting.ex`                         | Moved into `capture/runtime/instrumentation_runtime/`.                                                                                                                |
| `elixir_scope/capture/instrumentation_runtime/ecto_reporting.ex`                             | `elixir_scope/capture/runtime/instrumentation_runtime/ecto_reporting.ex`                         | Moved into `capture/runtime/instrumentation_runtime/`.                                                                                                                |
| `elixir_scope/capture/instrumentation_runtime/gen_server_reporting.ex`                       | `elixir_scope/capture/runtime/instrumentation_runtime/gen_server_reporting.ex`                   | Moved into `capture/runtime/instrumentation_runtime/`.                                                                                                                |
| `elixir_scope/capture/instrumentation_runtime/performance.ex`                                | `elixir_scope/capture/runtime/instrumentation_runtime/performance.ex`                            | Moved into `capture/runtime/instrumentation_runtime/`.                                                                                                                |
| `elixir_scope/capture/instrumentation_runtime/phoenix_reporting.ex`                          | `elixir_scope/capture/runtime/instrumentation_runtime/phoenix_reporting.ex`                      | Moved into `capture/runtime/instrumentation_runtime/`.                                                                                                                |
| `elixir_scope/capture/temporal_bridge_enhancement/ast_context_builder.ex`                    | `elixir_scope/capture/runtime/temporal_bridge_enhancement/ast_context_builder.ex`                | Moved into `capture/runtime/temporal_bridge_enhancement/`.                                                                                                          |
| `elixir_scope/capture/temporal_bridge_enhancement/cache_manager.ex`                          | `elixir_scope/capture/runtime/temporal_bridge_enhancement/cache_manager.ex`                      | Moved into `capture/runtime/temporal_bridge_enhancement/`.                                                                                                          |
| `elixir_scope/capture/temporal_bridge_enhancement/event_processor.ex`                        | `elixir_scope/capture/runtime/temporal_bridge_enhancement/event_processor.ex`                    | Moved into `capture/runtime/temporal_bridge_enhancement/`.                                                                                                          |
| `elixir_scope/capture/temporal_bridge_enhancement/state_manager.ex`                          | `elixir_scope/capture/runtime/temporal_bridge_enhancement/state_manager.ex`                      | Moved into `capture/runtime/temporal_bridge_enhancement/`.                                                                                                          |
| `elixir_scope/capture/temporal_bridge_enhancement/trace_builder.ex`                          | `elixir_scope/capture/runtime/temporal_bridge_enhancement/trace_builder.ex`                      | Moved into `capture/runtime/temporal_bridge_enhancement/`.                                                                                                          |
| `elixir_scope/capture/temporal_bridge_enhancement/types.ex`                                  | `elixir_scope/capture/runtime/temporal_bridge_enhancement/types.ex`                              | Moved into `capture/runtime/temporal_bridge_enhancement/`.                                                                                                          |
| `elixir_scope/capture/async_writer_pool.ex`                                                  | `elixir_scope/capture/runtime/async_writer_pool.ex`                                              | Moved to `capture/runtime/`.                                                                                                                                          |
| `elixir_scope/capture/async_writer.ex`                                                       | `elixir_scope/capture/runtime/async_writer.ex`                                                   | Moved to `capture/runtime/`.                                                                                                                                          |
| `elixir_scope/capture/enhanced_instrumentation.ex`                                           | `elixir_scope/capture/enhanced/instrumentation.ex`                                               | Top-level for enhanced instrumentation.                                                                                                                               |
| `elixir_scope/capture/event_correlator.ex`                                                   | `elixir_scope/capture/runtime/event_correlator.ex`                                               | Moved to `capture/runtime/`.                                                                                                                                          |
| `elixir_scope/capture/ingestor.ex`                                                           | `elixir_scope/capture/runtime/ingestor.ex`                                                       | Moved to `capture/runtime/`.                                                                                                                                          |
| `elixir_scope/capture/instrumentation_runtime.ex`                                            | `elixir_scope/capture/runtime/instrumentation_runtime.ex`                                        | Moved to `capture/runtime/`.                                                                                                                                          |
| `elixir_scope/capture/pipeline_manager.ex`                                                   | `elixir_scope/capture/runtime/pipeline_manager.ex`                                               | Moved to `capture/runtime/`.                                                                                                                                          |
| `elixir_scope/capture/ring_buffer.ex`                                                        | `elixir_scope/capture/runtime/ring_buffer.ex`                                                    | Moved to `capture/runtime/`.                                                                                                                                          |
| `elixir_scope/capture/temporal_bridge_enhancement.ex`                                        | `elixir_scope/capture/enhanced/temporal.ex`                                                      | Top-level for enhanced temporal bridge.                                                                                                                               |
| `elixir_scope/capture/temporal_bridge.ex`                                                    | `elixir_scope/capture/runtime/temporal_bridge.ex`                                                | Moved to `capture/runtime/`.                                                                                                                                          |
| `elixir_scope/capture/temporal_storage.ex`                                                   | `elixir_scope/capture/runtime/temporal_storage.ex`                                               | Moved to `capture/runtime/`.                                                                                                                                          |
| `elixir_scope/compile_time/orchestrator.ex`                                                  | `elixir_scope/ast/compile_time/orchestrator.ex`                                                  | Moved to `ast/compile_time/`.                                                                                                                                         |
| `elixir_scope/compiler/mix_task.ex`                                                          | `elixir_scope/ast/compiler/mix_task.ex`                                                          | Moved to `ast/compiler/`.                                                                                                                                             |
| `elixir_scope/core/ai_manager.ex`                                                            | `elixir_scope/foundation/core/ai_manager.ex`                                                     | Moved to `foundation/core/`.                                                                                                                                          |
| `elixir_scope/core/event_manager.ex`                                                         | `elixir_scope/foundation/core/event_manager.ex`                                                  | Moved to `foundation/core/`.                                                                                                                                          |
| `elixir_scope/core/message_tracker.ex`                                                       | `elixir_scope/foundation/core/message_tracker.ex`                                                | Moved to `foundation/core/`.                                                                                                                                          |
| `elixir_scope/core/state_manager.ex`                                                         | `elixir_scope/foundation/core/state_manager.ex`                                                  | Moved to `foundation/core/`.                                                                                                                                          |
| `elixir_scope/distributed/event_synchronizer.ex`                                             | `elixir_scope/foundation/distributed/event_synchronizer.ex`                                      | Moved to `foundation/distributed/`.                                                                                                                                   |
| `elixir_scope/distributed/global_clock.ex`                                                   | `elixir_scope/foundation/distributed/global_clock.ex`                                            | Moved to `foundation/distributed/`.                                                                                                                                   |
| `elixir_scope/distributed/node_coordinator.ex`                                               | `elixir_scope/foundation/distributed/node_coordinator.ex`                                        | Moved to `foundation/distributed/`.                                                                                                                                   |
| `elixir_scope/phoenix/integration.ex`                                                        | `elixir_scope/integration/phoenix/integration.ex`                                                | Moved to `integration/phoenix/`.                                                                                                                                      |
| `elixir_scope/query/engine.ex`                                                               | `elixir_scope/query/legacy/engine.ex`                                                            | Marked as legacy under `query/`.                                                                                                                                      |
| `elixir_scope/storage/data_access.ex`                                                        | `elixir_scope/capture/storage/storage/data_access.ex`                                            | Moved to `capture/storage/storage/`.                                                                                                                                  |
| `elixir_scope/storage/event_store.ex`                                                        | `elixir_scope/capture/storage/storage/event_store.ex`                                            | Moved to `capture/storage/storage/`.                                                                                                                                  |
| `elixir_scope/application.ex`                                                                | `elixir_scope/foundation/application.ex`                                                         | Moved to `foundation/`.                                                                                                                                               |
| `elixir_scope/config.ex`                                                                     | `elixir_scope/foundation/config.ex`                                                              | Moved to `foundation/`.                                                                                                                                               |
| `elixir_scope/event_store.ex`                                                                | `elixir_scope/foundation/event_store.ex`                                                         | Wrapper remains in `foundation/`.                                                                                                                                     |
| `elixir_scope/events.ex`                                                                     | `elixir_scope/foundation/events.ex`                                                              | Moved to `foundation/`.                                                                                                                                               |
| `elixir_scope/utils.ex`                                                                      | `elixir_scope/foundation/utils.ex`                                                               | Moved to `foundation/`.                                                                                                                                               |
| `elixir_scope.ex`                                                                            | `elixir_scope/elixir_scope.ex`                                                                   | Main module.                                                                                                                                                          |

## Test File Mappings:

Mapping test files is more complex due to the introduction of new test categories (contract, end_to_end, functional, performance, property, scenarios, unit). The general principle is to mirror the `lib` structure within the most appropriate category, usually `unit` or `integration`.

| Old Path (from `test/repomix-output.xml`)                                                    | New Path (Target Layout - Best Guess)                                                                         | Notes                                                                                                                                       |
| :------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------ |
| `elixir_scope/ai/analysis/intelligent_code_analyzer_test.exs`                                | `test/unit/intelligence/ai/analysis/intelligent_code_analyzer_test.exs`                                     | Unit test for the AI analyzer.                                                                                                              |
| `elixir_scope/ai/llm/providers/gemini_live_test.exs`                                         | `test/integration/external_apis/llm_provider_contracts_test.exs` (or a new `test/contract/`)                  | Live API tests are contracts.                                                                                                             |
| `elixir_scope/ai/llm/providers/mock_test.exs`                                                | `test/unit/intelligence/ai/llm/providers/mock_test.exs`                                                       | Unit test for mock provider.                                                                                                                |
| `elixir_scope/ai/llm/providers/vertex_live_test.exs`                                         | `test/integration/external_apis/llm_provider_contracts_test.exs` (or a new `test/contract/`)                  | Live API tests are contracts.                                                                                                             |
| `elixir_scope/ai/llm/client_test.exs`                                                        | `test/unit/intelligence/ai/llm/client_test.exs`                                                               | Unit test for LLM client.                                                                                                                   |
| `elixir_scope/ai/llm/config_test.exs`                                                        | `test/unit/intelligence/ai/llm/config_test.exs`                                                               | Unit test for LLM config.                                                                                                                   |
| `elixir_scope/ai/llm/provider_compliance_test.exs`                                           | `test/contract/behaviour_compliance/behaviour_implementations_test.exs` (or `llm_provider_contracts_test.exs`) | Compliance test.                                                                                                                          |
| `elixir_scope/ai/llm/response_test.exs`                                                      | `test/unit/intelligence/ai/llm/response_test.exs`                                                             | Unit test for LLM response.                                                                                                                 |
| `elixir_scope/ai/predictive/execution_predictor_test.exs`                                    | `test/unit/intelligence/ai/predictive/execution_predictor_test.exs`                                           | Unit test.                                                                                                                                  |
| `elixir_scope/ai/code_analyzer_test.exs`                                                     | `test/unit/intelligence/ai/code_analyzer_test.exs`                                                            | Unit test.                                                                                                                                  |
| `elixir_scope/ast/enhanced_transformer_test.exs`                                             | `test/unit/ast/compiler/enhanced_transformer_test.exs`                                                        | Unit test for AST compiler component.                                                                                                       |
| `elixir_scope/ast/transformer_test.exs`                                                      | `test/unit/ast/compiler/transformer_test.exs`                                                                 | Unit test for AST compiler component.                                                                                                       |
| `elixir_scope/ast_repository/enhanced/cfg_generator/expression_processors_test.exs`          | `test/unit/cpg/builder/cfg/cfg_generator/expression_processors_test.exs`                                      | Unit test for CPG component.                                                                                                                |
| `elixir_scope/ast_repository/enhanced/cfg_generator/integration_test.exs`                      | `test/integration/cpg_analysis/cfg_generator_integration_test.exs` (or `test/functional/cpg_construction/`) | Integration test for CFG generator.                                                                                                       |
| `elixir_scope/ast_repository/pattern_matcher/config_test.exs`                                | `test/unit/ast/pattern_matcher/config_test.exs`                                                               | Unit test for AST pattern matcher.                                                                                                          |
| `elixir_scope/ast_repository/pattern_matcher/types_test.exs`                                 | `test/unit/ast/pattern_matcher/types_test.exs`                                                                | Unit test for AST pattern matcher.                                                                                                          |
| `elixir_scope/ast_repository/pattern_matcher/validators_test.exs`                              | `test/unit/ast/pattern_matcher/validators_test.exs`                                                           | Unit test for AST pattern matcher.                                                                                                          |
| `elixir_scope/ast_repository/cfg_generator_enhanced_test.exs`                                | `test/functional/cpg_construction/cfg_generator_enhanced_test.exs` (or unit if focused on new features)       | Test for enhanced CFG features.                                                                                                             |
| `elixir_scope/ast_repository/cfg_generator_test.exs`                                         | `test/unit/cpg/builder/cfg_generator_test.exs` (assuming it tests the core of `cfg.ex`)                       | Unit test for CFG generator.                                                                                                                |
| `elixir_scope/ast_repository/cpg_builder_enhanced_test.exs`                                  | `test/functional/cpg_construction/cpg_builder_enhanced_test.exs`                                              | Test for enhanced CPG features.                                                                                                             |
| `elixir_scope/ast_repository/cpg_builder_test.exs`                                           | `test/unit/cpg/builder_test.exs`                                                                              | Unit test for CPG builder.                                                                                                                  |
| `elixir_scope/ast_repository/dfg_generator_enhanced_test.exs`                                | `test/functional/cpg_construction/dfg_generator_enhanced_test.exs`                                            | Test for enhanced DFG features.                                                                                                             |
| `elixir_scope/ast_repository/dfg_generator_test.exs`                                         | `test/unit/cpg/builder/dfg_generator_test.exs`                                                                | Unit test for DFG generator.                                                                                                                |
| `elixir_scope/ast_repository/enhanced_repository_integration_test.exs`                       | `test/integration/ast_cpg/enhanced_repository_integration_test.exs`                                         | Integration test for enhanced repo.                                                                                                         |
| `elixir_scope/ast_repository/enhanced_repository_test.exs`                                   | `test/unit/ast/enhanced/repository_test.exs`                                                                  | Unit test for enhanced repo.                                                                                                                |
| `elixir_scope/ast_repository/file_watcher_test.exs`                                          | `test/unit/cpg/file_watcher_test.exs`                                                                         | Unit test for CPG file watcher.                                                                                                             |
| `elixir_scope/ast_repository/instrumentation_mapper_test.exs`                                | `test/unit/ast/data/instrumentation_mapper_test.exs`                                                          | Unit test.                                                                                                                                  |
| `elixir_scope/ast_repository/memory_manager_test.exs`                                        | `test/unit/ast/legacy/memory_manager_test.exs` (or if it tests the new one: `test/unit/ast/memory_manager/`) | Likely tests the legacy component.                                                                                                          |
| `elixir_scope/ast_repository/module_data_integration_test.exs`                               | `test/integration/ast_cpg/module_data_integration_test.exs`                                                 | Integration test.                                                                                                                           |
| `elixir_scope/ast_repository/parser_enhanced_test.exs`                                       | `test/unit/ast/parser_enhanced_test.exs`                                                                      | Unit test for enhanced parser features.                                                                                                     |
| `elixir_scope/ast_repository/parser_test.exs`                                                | `test/unit/ast/parser_test.exs`                                                                               | Unit test for parser.                                                                                                                       |
| `elixir_scope/ast_repository/pattern_matcher_old_test.exs`                                   | `test/orig/elixir_scope/ast_repository/pattern_matcher_old_test.exs`                                        | Moved to `orig` as it's an old test.                                                                                                        |
| `elixir_scope/ast_repository/pattern_matcher_test.exs`                                       | `test/unit/ast/pattern_matcher/pattern_matcher_test.exs`                                                      | Unit test for AST pattern matcher.                                                                                                          |
| `elixir_scope/ast_repository/performance_test.exs`                                           | `test/performance/benchmarks/ast_repository_performance_test.exs`                                             | Moved to performance benchmarks.                                                                                                            |
| `elixir_scope/ast_repository/project_populator_test.exs`                                     | `test/unit/cpg/builder/project_populator_test.exs`                                                            | Unit test for CPG component.                                                                                                                |
| `elixir_scope/ast_repository/query_builder_test.exs`                                         | `test/unit/ast/legacy/query_builder_test.exs` (or `test/unit/ast/query_builder/`)                             | Tests the legacy query builder.                                                                                                             |
| `elixir_scope/ast_repository/repository_test.exs`                                            | `test/unit/ast/repository_test.exs`                                                                           | Unit test for AST repository.                                                                                                               |
| `elixir_scope/ast_repository/runtime_correlator_test.exs`                                    | `test/unit/capture/correlation_test.exs` (or `test/unit/capture/correlation/runtime_correlator_test.exs`)   | Unit test for runtime correlation.                                                                                                          |
| `elixir_scope/ast_repository/synchronizer_test.exs`                                          | `test/unit/cpg/synchronizer_test.exs`                                                                         | Unit test for CPG synchronizer.                                                                                                             |
| `elixir_scope/capture/async_writer_pool_test.exs`                                            | `test/unit/capture/runtime/async_writer_pool_test.exs`                                                        | Unit test.                                                                                                                                  |
| `elixir_scope/capture/async_writer_test.exs`                                                 | `test/unit/capture/runtime/async_writer_test.exs`                                                             | Unit test.                                                                                                                                  |
| `elixir_scope/capture/event_correlator_test.exs`                                             | `test/unit/capture/runtime/event_correlator_test.exs`                                                         | Unit test.                                                                                                                                  |
| `elixir_scope/capture/ingestor_test.exs`                                                     | `test/unit/capture/runtime/ingestor_test.exs`                                                                 | Unit test.                                                                                                                                  |
| `elixir_scope/capture/instrumentation_runtime_enhanced_test.exs`                             | `test/unit/debugger/enhanced/instrumentation_runtime_enhanced_test.exs`                                       | Unit test for enhanced instrumentation.                                                                                                     |
| `elixir_scope/capture/instrumentation_runtime_integration_test.exs`                          | `test/integration/capture_debugger/instrumentation_runtime_integration_test.exs`                              | Integration test.                                                                                                                           |
| `elixir_scope/capture/instrumentation_runtime_temporal_integration_test.exs`                 | `test/integration/capture_debugger/instrumentation_runtime_temporal_integration_test.exs`                     | Integration test.                                                                                                                           |
| `elixir_scope/capture/pipeline_manager_test.exs`                                             | `test/unit/capture/runtime/pipeline_manager_test.exs`                                                         | Unit test.                                                                                                                                  |
| `elixir_scope/capture/ring_buffer_test.exs`                                                  | `test/unit/capture/runtime/ring_buffer_test.exs`                                                              | Unit test.                                                                                                                                  |
| `elixir_scope/capture/temporal_bridge_test.exs`                                              | `test/unit/capture/runtime/temporal_bridge_test.exs`                                                          | Unit test.                                                                                                                                  |
| `elixir_scope/capture/temporal_storage_test.exs`                                             | `test/unit/capture/runtime/temporal_storage_test.exs`                                                         | Unit test.                                                                                                                                  |
| `elixir_scope/compiler/mix_task_test.exs`                                                    | `test/unit/ast/compiler/mix_task_test.exs`                                                                    | Unit test for compiler task.                                                                                                                |
| `elixir_scope/config_test.exs`                                                               | `test/unit/foundation/config_test.exs`                                                                        | Unit test for foundation config.                                                                                                            |
| `elixir_scope/distributed/multi_node_test.exs`                                               | `test/end_to_end/distributed_system_analysis/multi_node_test.exs`                                           | End-to-end test for distributed features.                                                                                                   |
| `elixir_scope/events_test.exs`                                                               | `test/unit/foundation/events_test.exs`                                                                        | Unit test for foundation events.                                                                                                            |
| `elixir_scope/integration/api_completion_test.exs`                                           | `test/integration/layer_dependencies/api_completion_test.exs` (or `test/functional/`)                       | Integration test for API.                                                                                                                   |
| `elixir_scope/integration/ast_runtime_integration_test.exs`                                  | `test/integration/capture_debugger/ast_runtime_integration_test.exs`                                        | Integration test.                                                                                                                           |
| `elixir_scope/integration/end_to_end_hybrid_test.exs`                                        | `test/end_to_end/ai_assisted_debugging/end_to_end_hybrid_test.exs`                                          | End-to-end test.                                                                                                                            |
| `elixir_scope/llm/context_builder_test.exs`                                                  | `test/unit/intelligence/ai/llm/context_builder_test.exs` (new file, assuming was part of `llm/`)             | Unit test.                                                                                                                                  |
| `elixir_scope/llm/hybrid_analyzer_test.exs`                                                  | `test/functional/ai_integration/hybrid_analyzer_test.exs` (new file, assuming was part of `llm/`)            | Functional test.                                                                                                                            |
| `elixir_scope/performance/hybrid_benchmarks_test.exs`                                        | `test/performance/benchmarks/hybrid_benchmarks_test.exs`                                                      | Performance benchmark.                                                                                                                      |
| `elixir_scope/phoenix/integration_test.exs`                                                  | `test/integration/phoenix_project_analysis/integration_test.exs` (or just `test/integration/phoenix/`)      | Integration test.                                                                                                                           |
| `elixir_scope/query/engine_test.exs`                                                         | `test/unit/query/legacy/engine_test.exs`                                                                      | Unit test for legacy query engine.                                                                                                          |
| `elixir_scope/storage/data_access_test.exs`                                                  | `test/unit/capture/storage/storage/data_access_test.exs`                                                      | Unit test.                                                                                                                                  |
| `elixir_scope/storage/event_store_test.exs`                                                  | `test/unit/capture/storage/storage/event_store_test.exs`                                                      | Unit test.                                                                                                                                  |
| `elixir_scope/utils_test.exs`                                                                | `test/unit/foundation/utils_test.exs`                                                                         | Unit test for foundation utils.                                                                                                             |
| `elixir_scope_test.exs`                                                                      | `test/unit/elixir_scope_test.exs` (or `test/functional/` if it tests core app functionality)                | Main app test.                                                                                                                            |
| `test_helper.exs`                                                                            | `test/test_helper.exs`                                                                                        | Test helper.                                                                                                                                |
| `fixtures/sample_elixir_project/`                                                            | `test/fixtures/sample_projects/` (content would merge or be categorized)                                    | Fixture.                                                                                                                                    |
| `fixtures/sample_project/`                                                                   | `test/fixtures/sample_projects/` (content would merge or be categorized)                                    | Fixture.                                                                                                                                    |
| `integration/production_phoenix_test.exs`                                                    | `test/end_to_end/phoenix_project_analysis/production_phoenix_test.exs`                                      | End-to-end test.                                                                                                                            |
| `support/ai_test_helpers.ex`                                                                 | `test/support/generators/ai_test_helpers.ex` (or `test/support/helpers.ex` if general)                        | Test helper.                                                                                                                                |
| `support/test_phoenix_app.ex`                                                                | `test/support/fixtures/phoenix_app.ex` (or `test/fixtures/sample_projects/phoenix_app/`)                  | Test helper / fixture.                                                                                                                      |

**Important Considerations for Test File Mappings:**

*   The new test structure is highly organized. The "best guess" above tries to place tests into semantically correct categories (unit, integration, functional, contract, end_to_end, performance, property, scenarios).
*   Some old tests might be split, merged, or refactored to fit the new structure.
*   Tests in `test/orig/` are likely older versions or those that don't fit the new categories directly.
*   The `elixir_scope/ast_repository/test_support/` directory from the old structure has its contents spread across `test/support/fixtures/`, `test/support/helpers/`, etc. in the new structure.

This report provides a comprehensive mapping based on the provided structures. The actual migration might involve further decisions based on the specific content and intent of each file.
